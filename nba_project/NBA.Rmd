---
title: "NBA"
author: "Matthew Tung"
date: "8/3/2021"
output:
  slidy_presentation: default
  ioslides_presentation: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```


## Introduction
As NBA progresses, so does the game. The game has become more reliant on 3 pointers. Thus, I have created a simple linear regression model that models 3 point percentage against plus and minus. 

Users can input their favorite players' 3 point percentage and see how much influence they can have on today's game.

## Data Source

Data source is from nbastatr: https://www.rdocumentation.org/packages/nbastatR/versions/0.1.10131
In this dataset, I used 2020's NBA season. 

## Plus minus Indications (From Basketball-Reference.com)

- +10.0 is an all-time season (think peak Jordan or LeBron)
- +8.0 is an MVP season (think peak Dirk or peak Shaq)
- +6.0 is an all-NBA season
- +4.0 is in all-star consideration
- +2.0 is a good starter
- +0.0 is a decent starter or solid 6th man
- -2.0 is a bench player (this is also defined as "replacement level")
- Below -2.0 are many end-of-bench players

## Backend

```{r, eval=TRUE, echo = TRUE, warning = FALSE, comment= FALSE,message = FALSE}
library(nbastatR)
library(plotly)
season2020 <- bref_players_stats(season = 2020)
season2020 <- season2020[season2020[, 'fg3aTotals'] >= 150,]
fit1 <- lm(formula = ratioBPM~pctFG3, data=season2020)
fig<- plot_ly(x = season2020$pctFG3, y = season2020$ratioBPM, xlab = "3Pt Percentage", 
              ylab = "Ratio BPM", color = season2020$groupPosition, 
              size = season2020$fg3aTotals)%>%
            add_markers(y=season2020$rationBPM) %>%
            add_lines(x = season2020$pctFG3, y = fitted(fit1))%>%
            add_trace(text = season2020$namePlayer, hovertemplate=paste('Player: %{text}', 
                                                  '<br>3PT Pct: %{x}<br>', 
                                                  'RatioBPM Pct: %{y}'))
fig
```

